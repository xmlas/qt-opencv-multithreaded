  * [1. Installation](Documentation#1._Installation.md)
    * [1.1 Installing OpenCV](Documentation#1.1_Installing_OpenCV.md)
    * [1.2 Installing Qt](Documentation#1.2_Installing_Qt.md)
    * [1.3 Compiling & running the application](Documentation#1.3_Compiling_&_running_the_application.md)
  * [2. Using the Application](Documentation#2._Using_the_Application.md)
  * [3. Modifying the Source](Documentation#3._Modifying_the_Source.md)
  * [4. Hardware](Documentation#4._Hardware.md)
    * [4.1 PlayStation Eye](Documentation#4.1_Playstation_Eye.md)
  * [5. Extras](Documentation#5._Extras.md)
    * [5.1 ARToolKitPlus Installation](Documentation#5.1_ARToolKitPlus_Installation.md)

# 1. Installation #
The installation procedures detailed below have been tested and verified using:
  * Ubuntu 14.04 64-bit
  * OpenCV 2.4.9
  * Qt 5.3.0 for Linux 64-bit
## 1.1 Installing OpenCV ##
1. **Open Terminal:** Press Control-Alt T to open a Terminal instance.

2. **Download and install CMake and other required dependencies (Note: `qt-opencv-multithreaded` requires V4L. Also, Ubuntu 14.04 comes supplied with `pkg-config`):**
```
$ sudo apt-get update
$ sudo apt-get install build-essential cmake libv4l-dev pkg-config
```

**Optional packages:**

`libgtk2.0-dev` _The default GUI backend for highgui on OSes other than Windows and MacOSX._

`libtiff4-dev` _For reading and writing TIFF images._

`libjasper-dev` _Library for the coding and manipulation of images (e.g. JPEG-2000 format)._

`libavformat-dev` _Library containing demuxers and muxers for audio/video container formats._

`libswscale-dev` _Library containing video image scaling and colorspace/pixelformat conversion routines._

`libavcodec-dev` _Library containing all the FFmpeg audio/video encoders and decoders._

`libjpeg-dev` _For reading and writing JPEG images._

`libpng-dev` _For reading and writing PNG images._

3. **Download OpenCV for Unix (choose a folder where you wish to download the file to: e.g. home/Downloads):**
```
$ cd Downloads
$ wget http://downloads.sourceforge.net/project/opencvlibrary/opencv-unix/2.4.9/opencv-2.4.9.zip
```

4. **Unpack archive and navigate to the newly created folder containing the OpenCV source:**
```
$ unzip opencv-2.4.9.zip
$ cd opencv-2.4.9/
```

5. **Create a new folder and navigate to it (the build files generated by CMake will go into this folder):**
```
$ mkdir release	
$ cd release
```

6. **Use CMake to generate the makefile (add any other required flags with the -D option):**

**Note:** Remember to specify the source folder as the last argument while invoking `cmake`.

```
$ cmake -D CMAKE_BUILD_TYPE=RELEASE -D CMAKE_INSTALL_PREFIX=/usr/local ..
```

7. **Compile and install OpenCV:**
```
$ make
$ sudo make install
$ sudo ldconfig
```

8. **OpenCV runtime libraries (.so) can now be linked with simply: ```pkg-config opencv --libs```**

## 1.2 Installing Qt ##
**Note:** Steps 4 and 5 explain how to configure Qt Creator for use with the OpenCV libraries.

1. **Download the latest version of Qt 5 for Linux 64-bit from the Qt website:** http://qt-project.org/downloads

2. **Follow the installation instructions on the download page. Installation is typically started with the following:**
```
$ chmod u+x path_to_downloaded_setup_file
$ ./path_to_downloaded_setup_file
```

3. **In Qt Creator, add the following to the .PRO file after creating a project:**
```
LIBS += `pkg-config opencv --libs`
```

OR (for Mac OS/X)

```
QT_CONFIG -= no-pkg-config
CONFIG += link_pkgconfig
PKGCONFIG += opencv
```


4. **Include the OpenCV header files in your C/C++ source file(s). For example:**
```
#include <opencv2/opencv.hpp>
#include <opencv2/highgui/highgui.hpp>
```

5. **Your Qt-based OpenCV project can now be built and run using Qt Creator!**

## 1.3 Compiling & running the application ##
1. Download the latest stable release of **qt-opencv-multithreaded** and unpack the downloaded archive: [Downloads](http://code.google.com/p/qt-opencv-multithreaded/downloads/list)

**OR**

Get the "cutting-edge" version from the SVN repository (requires a SVN client): See instructions [here](http://code.google.com/p/qt-opencv-multithreaded/source/checkout).

2. Open **qt-opencv-multithreaded.pro** in Qt Creator. You may also be asked to setup the project build targets - modify if required.

3. The application can be now be simply modified, compiled and run within Qt Creator!

**IMPORTANT: If you receive compilation/linking errors such as `/usr/bin/ld: cannot find -lGL` or `GL/gl.h: No such file or directory` when using Qt 5, do the following:**
```
$ sudo apt-get install libgl1-mesa-dev
```

# 2. Using the Application #
Coming soon.

# 3. Modifying the Source #
<a href='https://qt-opencv-multithreaded.googlecode.com/svn/wiki/qt-opencv-multithreaded-1.3.3_RevA.png'><img src='https://qt-opencv-multithreaded.googlecode.com/svn/wiki/qt-opencv-multithreaded-1.3.3_RevA.png' width='817' height='561' /></a>

# 4. Hardware #
## 4.1 Playstation Eye ##
### Changing the frame rate ###

The default frame rate can be changed by modifying and re-building the driver source (_ov534.c_).

Note: The following procedure is based on: http://wiki.tekkotsu.org/index.php/Sony_PlayStation_Eye_driver_install_instructions

1. Get the Linux kernel source:
```
$ sudo -s
$ cd /usr/src
$ apt-get update
$ apt-get install -y kernel-package build-essential linux-source
$ tar --bzip2 -xvf linux-source-*.tar.bz2
$ ln -s `find . -type d -name "linux-source-*"` linux
```

2. Replace the driver source. This version of the driver has been patched to make 640x480 @ 60 fps the default.
```
$ cd /usr/src/linux/drivers/media/video/gspca
$ mv ov534.c ov534.c.old
$ wget http://qt-opencv-multithreaded.googlecode.com/files/ov534.c
```

3. Rebuild the driver modules _ov534_, _gspca\_ov534_, and _gspca-main_:
```
$ cd /usr/src
$ cp -p linux-headers-$(uname -r)/Module.symvers linux

$ cd /usr/src/linux
$ make oldconfig
$ make modules_prepare
$ make SUBDIRS=drivers/media/video/gspca modules 
```

4. Install the new _gspca\_ov534_ driver, which also requires replacing _gspca\_main_:
```
$ cd /usr/src/linux
$ cp -p drivers/media/video/gspca/gspca_main.ko /lib/modules/$(uname -r)/kernel/drivers/media/video/gspca
$ cp -p drivers/media/video/gspca/gspca_ov534.ko /lib/modules/$(uname -r)/kernel/drivers/media/video/gspca
$ depmod
```

5. Remove the old drivers, then load the new ones (_gspca\_main_ will load automatically):
```
modprobe -r gspca_ov534 gspca_main
modprobe gspca_ov534
```

6. Test using _qt-opencv-multithreaded_.

# 5. Extras #

## 5.1 ARToolKitPlus Installation ##

_Tested with ARToolKitPlus 2.3.0_

1. **Open Terminal:** Press Control-Alt T to open a Terminal instance.

2. **Download ARToolKitPlus, unpack and install (default system installation path is /usr/)**:
```
$ cd Downloads
$ wget https://launchpad.net/artoolkitplus/trunk/2.3.0/+download/ARToolKitPlus-2.3.0.tar.bz2
$ tar xvjf ARToolKitPlus-2.3.0.tar.bz2
$ cd ARToolKitPlus-2.3.0
$ mkdir build
$ cd build
$ cmake ..
$ make
$ sudo make install
```

3. **Add the following to the Qt .PRO file:**
```
LIBS += -lARToolKitPlus
```

4. **Include the ARToolKitPlus header files in your C/C++ source file(s). For example:**
```
#include <ARToolKitPlus/TrackerSingleMarker.h>
#include <ARToolKitPlus/TrackerMultiMarker.h>
```